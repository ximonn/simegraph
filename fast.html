<!DOCTYPE HTML>
<html>
  <head>
    <link type="text/css" href="impage.css" rel="stylesheet">
  </head>
  <body>
    <div id='divElement'>
      <canvas id="myCanvas" width="1600" height="900"></canvas>
    </div>
    <div style="display:none">
      <canvas id="canvasVirtual" width="1600" height="800"></canvas>
    </div>
    <script src="simegraph.js"></script>
    <script>

      var frameSpeed = 40;
      var sconf = {
        mask: "00FF00",
        fastDraw: true,
        addReverseJpgFiles: false,
        frameSpeed: frameSpeed,  // msec
        waitTimeStart: 4000,
        waitTimeRepeat: 6000,
        jpgColorMargin: 20,  
        filterDepth: 12,        // bit more filtering needed on the composite (this works as the cutmargin was increased from default)
        filterThreshold: 9
      };

     var compCoordinates = [
           {name:"P3260804.jpg", x:0,y:0,w:171,h:273, dx:307, dy:538},
           {name:"P3260803.jpg", x:171,y:0,w:138,h:266, dx:344, dy:524},
           {name:"P3260802.jpg", x:309,y:0,w:158,h:253, dx:340, dy:536},
           {name:"P3260801.jpg", x:467,y:0,w:165,h:256, dx:353, dy:536},
           {name:"P3260800.jpg", x:632,y:0,w:231,h:248, dx:312, dy:538},
           {name:"P3260799.jpg", x:863,y:0,w:226,h:251, dx:320, dy:538},
           {name:"P3260798.jpg", x:1089,y:0,w:178,h:244, dx:364, dy:536},
           {name:"P3260797.jpg", x:1267,y:0,w:192,h:245, dx:372, dy:538},
           {name:"P3260796.jpg", x:0,y:273,w:212,h:239, dx:375, dy:538},
           {name:"P3260795.jpg", x:212,y:273,w:197,h:237, dx:393, dy:541},
           {name:"P3260794.jpg", x:409,y:273,w:233,h:260, dx:382, dy:529},
           {name:"P3260793.jpg", x:642,y:273,w:194,h:236, dx:439, dy:542},
           {name:"P3260792.jpg", x:836,y:273,w:224,h:252, dx:433, dy:529},
           {name:"P3260791.jpg", x:1060,y:273,w:242,h:272, dx:439, dy:517},
           {name:"P3260790.jpg", x:1302,y:273,w:211,h:242, dx:459, dy:535},
           {name:"P3260789.jpg", x:0,y:545,w:211,h:253, dx:477, dy:527},
           {name:"P3260788.jpg", x:211,y:545,w:222,h:244, dx:490, dy:533},
           {name:"P3260787.jpg", x:433,y:545,w:231,h:245, dx:500, dy:532},
           {name:"P3260786.jpg", x:664,y:545,w:204,h:246, dx:517, dy:532},
           {name:"P3260785.jpg", x:868,y:545,w:204,h:242, dx:532, dy:535},
           {name:"P3260784.jpg", x:1072,y:545,w:196,h:237, dx:556, dy:538}
      ];


      var jpgFiles = [
          {name:"P3260805.jpg", time: frameSpeed*1.2}, // this first file is the base jpg (the whole scene)
          {name:"P3260804.jpg", time: frameSpeed*1.2}, // these next are masked out animation frames
          {name:"P3260803.jpg", time: frameSpeed*1.2},
          {name:"P3260802.jpg", time: frameSpeed*1.2},
          {name:"P3260801.jpg", time: frameSpeed*1.2},
          {name:"P3260800.jpg", time: frameSpeed*1.2},
          {name:"P3260799.jpg", time: frameSpeed*1.2},
          {name:"P3260798.jpg", time: frameSpeed*1.2},
          {name:"P3260797.jpg", time: frameSpeed*1.2},
          {name:"P3260796.jpg", time: frameSpeed*1.2},
          {name:"P3260795.jpg", time: frameSpeed*1.3},
          {name:"P3260794.jpg", time: frameSpeed*1.3},
          {name:"P3260793.jpg", time: frameSpeed*1.3},
          {name:"P3260792.jpg", time: frameSpeed*1.4},
          {name:"P3260791.jpg", time: frameSpeed*1.4},
          {name:"P3260790.jpg", time: frameSpeed*1.5},
          {name:"P3260789.jpg", time: frameSpeed*1.5},
          {name:"P3260788.jpg", time: frameSpeed*1.6},
          {name:"P3260787.jpg", time: frameSpeed*1.7},
          {name:"P3260786.jpg", time: frameSpeed*1.8},
          {name:"P3260785.jpg", time: frameSpeed*2.2},
          {name:"P3260784.jpg", time: frameSpeed*2.3},
          {name:"P3260785.jpg", time: frameSpeed*5.2},
          {name:"P3260786.jpg", time: frameSpeed*1.7}, // manually added the reverse jpgs, as I change the framespeed for the return walk
          {name:"P3260787.jpg", time: frameSpeed*1.5},
          {name:"P3260788.jpg", time: frameSpeed*1.3},
          {name:"P3260789.jpg", time: frameSpeed*1.2},
          {name:"P3260790.jpg", time: frameSpeed*1.1},
          {name:"P3260791.jpg", time: frameSpeed},
          {name:"P3260792.jpg", time: frameSpeed},
          {name:"P3260793.jpg", time: frameSpeed},
          {name:"P3260794.jpg", time: frameSpeed},
          {name:"P3260795.jpg", time: frameSpeed},
          {name:"P3260796.jpg", time: frameSpeed},
          {name:"P3260797.jpg", time: frameSpeed},
          {name:"P3260798.jpg", time: frameSpeed},
          {name:"P3260799.jpg", time: frameSpeed},
          {name:"P3260800.jpg", time: frameSpeed},
          {name:"P3260801.jpg", time: frameSpeed*1.1},
          {name:"P3260802.jpg", time: frameSpeed*1.2},
          {name:"P3260803.jpg", time: frameSpeed*1.3},
          {name:"P3260804.jpg", time: frameSpeed*1.2}
      ];

      simegraph(sconf, compCoordinates, jpgFiles);
    
    </script>
    
  </body>
</html>
